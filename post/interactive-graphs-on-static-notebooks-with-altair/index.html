<!DOCTYPE html>
<html lang="en-us">
<head>

  <meta charset="utf-8" />

  
  <title>Interactive Graphs on Static Notebooks With Altair</title>

  
  
  <link href="//cdn.jsdelivr.net" rel="dns-prefetch">
  <link href="//cdnjs.cloudflare.com" rel="dns-prefetch">
  
  <link href="//at.alicdn.com" rel="dns-prefetch">
  
  <link href="//fonts.googleapis.com" rel="dns-prefetch">
  <link href="//fonts.gstatic.com" rel="dns-prefetch">
  
  
  
  
  

  

  
  
  <meta name="description" content="Do you like using Jupyter notebooks to explore your data but feel that it looks raw to be presentation worthy? Would you like being able to share interactive visualizations to colleagues and stakeholders with minimal fuss? In this post I&amp;rsquo;ll show my approach to generating static reports with interactive plots. Powered by Altair and nbconvert.
">

  
  
    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@gohugoio">
    <meta name="twitter:title" content="Interactive Graphs on Static Notebooks With Altair">
    <meta name="twitter:description" content="Do you like using Jupyter notebooks to explore your data but feel that it looks raw to be presentation worthy? Would you like being able to share interactive visualizations to colleagues and stakeholders with minimal fuss? In this post I&amp;rsquo;ll show my approach to generating static reports with interactive plots. Powered by Altair and nbconvert.
">
    <meta name="twitter:image" content="/images/avatar.jpeg">
  

  
  <meta property="og:type" content="article">
  <meta property="og:title" content="Interactive Graphs on Static Notebooks With Altair">
  <meta property="og:description" content="Do you like using Jupyter notebooks to explore your data but feel that it looks raw to be presentation worthy? Would you like being able to share interactive visualizations to colleagues and stakeholders with minimal fuss? In this post I&amp;rsquo;ll show my approach to generating static reports with interactive plots. Powered by Altair and nbconvert.
">
  <meta property="og:url" content="/post/interactive-graphs-on-static-notebooks-with-altair/">
  <meta property="og:image" content="/images/avatar.jpeg">




<meta name="generator" content="Hugo 0.55.6">


<link rel="canonical" href="/post/interactive-graphs-on-static-notebooks-with-altair/">

<meta name="renderer" content="webkit">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="format-detection" content="telephone=no,email=no,adress=no">
<meta http-equiv="Cache-Control" content="no-transform">


<meta name="robots" content="index,follow">
<meta name="referrer" content="origin-when-cross-origin">







<meta name="theme-color" content="#02b875">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<meta name="apple-mobile-web-app-title" content="Octavi Font">
<meta name="msapplication-tooltip" content="Octavi Font">
<meta name='msapplication-navbutton-color' content="#02b875">
<meta name="msapplication-TileColor" content="#02b875">
<meta name="msapplication-TileImage" content="/icons/icon-144x144.png">
<link rel="icon" href="/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="/icons/icon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="/icons/icon-32x32.png">
<link rel="icon" sizes="192x192" href="/icons/icon-192x192.png">
<link rel="apple-touch-icon" href="/icons/icon-152x152.png">
<link rel="manifest" href="/manifest.json">


<link rel="preload" href="/styles/main-rendered.min.css" as="style">

<link rel="preload" href="/styles/custom.min.css" as="style">
<link rel="preload" href="https://fonts.googleapis.com/css?family=Lobster" as="style">
<link rel="preload" href="/images/avatar.jpeg" as="image">
<link rel="preload" href="/images/grey-prism.svg" as="image">


<style>
  body {
    background: rgb(244, 243, 241) url('/images/grey-prism.svg') repeat fixed;
  }
</style>
<link rel="stylesheet" href="/styles/main-rendered.min.css">

<link rel="stylesheet" href="/styles/custom.min.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lobster">



<script src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.2/dist/medium-zoom.min.js"></script>




<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/video.js@7.3.0/dist/video-js.min.css">



  
  
<!--[if lte IE 8]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/videojs-ie8@1.1.2/dist/videojs-ie8.min.js"></script>
<![endif]-->

<!--[if lte IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/eligrey-classlist-js-polyfill@1.2.20180112/classList.min.js"></script>
<![endif]-->


</head>
  <body>
    <div class="suspension">
      <a role="button" aria-label="Go to top" title="Go to top" class="to-top is-hide"><span class="icon icon-up" aria-hidden="true"></span></a>
      
        
      
    </div>
    
    
  <header class="site-header">
  <img class="avatar" src="/images/avatar.jpeg" alt="Avatar">
  
  <h2 class="title">Octavi Font</h2>
  
  <p class="subtitle">~ AI for healthcare - Consulting ~</p>
  <button class="menu-toggle" type="button" aria-label="Main Menu" aria-expanded="false" tab-index="0">
    <span class="icon icon-menu" aria-hidden="true"></span>
  </button>

  <nav class="site-menu collapsed">
    <h2 class="offscreen">Main Menu</h2>
    <ul class="menu-list">
      
      
      
      
        <li class="menu-item
          
          
           is-active">
          <a href="/">Blog</a>
        </li>
      
        <li class="menu-item
          
          
          ">
          <a href="/projects/">Projects</a>
        </li>
      
        <li class="menu-item
          
          
          ">
          <a href="/about/">About</a>
        </li>
      
    </ul>
  </nav>
  <nav class="social-menu collapsed">
    <h2 class="offscreen">Social Networks</h2>
    <ul class="social-list"><li class="social-item">
          <a href="mailto:octavi@octavifs.me" title="Email" aria-label="Email">
            <span class="icon icon-email" aria-hidden="true"></span>
          </a>
        </li><li class="social-item">
          <a href="//github.com/octavifs" rel="me" title="GitHub" aria-label="GitHub">
	    <span class="icon icon-github" aria-hidden="true"></span>
          </a>
        </li><li class="social-item">
          <a href="//www.linkedin.com/in/octavifs" rel="me" title="LinkedIn" aria-label="LinkedIn">
            <span class="icon icon-linkedin" aria-hidden="true"></span>
          </a>
        </li></ul>
  </nav>
</header>

  <section class="main post-detail">
    <header class="post-header">
      <h1 class="post-title">Interactive Graphs on Static Notebooks With Altair</h1>
      <p class="post-meta">@ · Jun 4, 2019 · 3 min read</p>
    </header>
    <article class="post-content"><p>Do you like using Jupyter notebooks to explore your data but feel that it looks raw to be presentation worthy? Would you like being able to share interactive visualizations to colleagues and stakeholders with minimal fuss? In this post I&rsquo;ll show my approach to generating static reports with interactive plots. Powered by Altair and nbconvert.</p>

<p>Many times, when performing data analysis on my notebooks, I&rsquo;ve wished it were easier to share interactive visualizations with colleagues and stakeholders. Usually, libraries capable of generating interactive views only display statically outside of the notebook environment, if at all. And setting up a proper interactive data visualization platform feels like it would kill my velocity. In short, I wish for a solution that lets me iterate fast, is able to generate fancy interactive plots and can be self-contained into an easy to distribute HTML file.</p>

<p>These last few months I&rsquo;ve been using <a href="https://altair-viz.github.io/index.html">Altair</a> as my goto library for data visualization in python. Altair provides a declarative API to create data visualizations that mesh well with pandas dataframes, can perform data aggregations easily, has good aesthetics and renders on the client side, which enables interactivity. For those of you interested in knowing more about its design principles and capabilities feel free to check these resources:</p>

<ul>
<li><a href="https://vallandingham.me/altair_intro.html">An Introduction to Altair</a></li>
<li><a href="https://medium.com/analytics-vidhya/exploratory-data-visualisation-with-altair-b8d85494795c">Exploratory Data Visualisation with Altair</a></li>
<li><a href="https://altair-viz.github.io/gallery/index.html">Altair Example Gallery</a></li>
</ul>

<p>Altair integrates natively with <a href="https://jupyterlab.readthedocs.io/en/stable/">jupyter lab</a> but charts do not render when the HTML is exported. This is because the necessary client-side dependencies are missing. While discouraging, it is still too early to give up. Thanks to <a href="https://nbconvert.readthedocs.io/en/latest/">nbconvert</a> we can generate custom export templates, so we could augment the HTML exporter with the necessary libraries for Altair to work.</p>

<p>I&rsquo;ve created a <a href="https://gist.github.com/octavifs/c19564c477e51b4ddd818756389e705e">gist</a> with the modified template, example notebook and requirements. Also, it is only fair to mention <a href="https://github.com/altair-viz/altair/issues/329">this github issue</a> which I&rsquo;ve used as basis for this workaround. My version of the template should be compatible with both Altair <em>2.X</em> and <em>3.X</em>.</p>

<p>Once you&rsquo;ve downloaded <a href="https://gist.github.com/octavifs/c19564c477e51b4ddd818756389e705e#file-nbconvert_altair_hidecode-tpl">nbconvert_altair_hidecode.tpl</a> and <a href="https://gist.github.com/octavifs/c19564c477e51b4ddd818756389e705e#file-altair_static_interactive-ipynb">altair_static_interactive.ipynb</a> you can generate the static HTML by running:</p>

<pre><code>jupyter nbconvert --to html \
    --template  nbconvert_altair_hidecode.tpl \
    altair_static_interactive.ipynb
</code></pre>

<p>This will generate an HTML report like <a href="/static/interactive-graphs-on-static-notebooks-with-altair/altair_static_interactive.html">this one</a>. Heck, you can even embed it into another page with an <code>&lt;iframe&gt;</code>. Look!</p>

<iframe
    src="/static/interactive-graphs-on-static-notebooks-with-altair/altair_static_interactive.html"
    style="border:none; width:100%"
    onload="this.style.height=(this.contentDocument.body.scrollHeight + 10) +'px';"
>
</iframe>

<p>An extra bit of magic I&rsquo;ve built into the template is the functionality to hide code cells. Adding the tag <code>hidecode</code> to a cell will skip rendering the input, while preserving the output. Especially useful if you need a cleaned up version for decision makers.</p>

<p>Hopefully you&rsquo;ll find some of these ideas a useful addition to your data analysis toolset. As this field is very much in its infancy, we are still figuring out the workflows and tooling to perform our job effectively. And I believe that facilitating the distribution of good visualizations will be a step towards that direction.</p></article>
    <footer class="post-footer">
      
      <p class="post-copyright">
        
      </p>
    </footer>
    
      
    
  </section>
  
<footer class="site-footer">
  <p>© 2017-2019 Octavi Font</p>
  <p>Powered by <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> with theme <a href="https://github.com/laozhu/hugo-nuo" target="_blank" rel="noopener">Nuo</a>.</p>
  
</footer>


<script src="https://cdn.jsdelivr.net/npm/smooth-scroll@15.0.0/dist/smooth-scroll.min.js"></script>



<script async src="https://cdn.jsdelivr.net/npm/video.js@7.3.0/dist/video.min.js"></script>




<script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [['$','$'], ['\\(','\\)']],
      displayMath: [['$$','$$'], ['\\[','\\]']],
      processEscapes: true,
      processEnvironments: true,
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
      TeX: { equationNumbers: { autoNumber: "AMS" },
      extensions: ["AMSmath.js", "AMSsymbols.js"] }
    },
  });
</script>
<script type="text/x-mathjax-config">
  // Fix <code> tags after MathJax finishes running. This is a
  // hack to overcome a shortcoming of Markdown. Discussion at
  // https://github.com/mojombo/jekyll/issues/199
  MathJax.Hub.Queue(() => {
    MathJax.Hub.getAllJax().map(v => v.SourceElement().parentNode.className += ' has-jax');
  });
</script>



<script src="/scripts/index.min.js"></script>

<script>
  if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('\/service-worker.js').then(function() {
      console.log('[ServiceWorker] Registered');
    });
  }
</script>








  </body>
</html>
